{"ast":null,"code":"import _slicedToArray from\"C:/projects/law/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import axios from\"axios\";import{Link}from'react-router-dom';import{AiOutlineUser}from\"react-icons/ai\";import{AiOutlineLock}from\"react-icons/ai\";import{useNavigate}from\"react-router-dom\";import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),pw=_useState4[0],setPw=_useState4[1];var navigate=useNavigate();var onIdChange=function onIdChange(e){setId(e.target.value);};var onPwChange=function onPwChange(e){setPw(e.target.value);};var nav=function nav(){navigate(-1);};var handleSubmit=function handleSubmit(e){// submit을 할 때 페이지 자체가 새로고침이 되는 것을 막음\ne.preventDefault();console.log(id);var formData=new FormData();formData.append('id',id);formData.append('password',pw);console.log(formData);axios.post('/login',formData,{headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return typeof res.data==='string'?alert(res.data)://navigate(-1))\nnav;});navigate(-1);};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginInput\",children:[/*#__PURE__*/_jsx(AiOutlineUser,{className:\"loginIcon\",size:\"50px\"}),/*#__PURE__*/_jsx(\"input\",{onChange:onIdChange,value:id,type:\"text\",placeholder:\"ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginInput\",children:[/*#__PURE__*/_jsx(AiOutlineLock,{className:\"loginIcon\",size:\"50px\"}),/*#__PURE__*/_jsx(\"input\",{onChange:onPwChange,type:\"password\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"btn\",type:\"submit\",value:\"Log in\"}),/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",children:\"sign up?\"})]})});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","AiOutlineUser","AiOutlineLock","useNavigate","useHistory","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","id","setId","_useState3","_useState4","pw","setPw","navigate","onIdChange","e","target","value","onPwChange","nav","handleSubmit","preventDefault","console","log","formData","FormData","append","post","headers","then","res","data","alert","className","children","onSubmit","size","onChange","type","placeholder","to"],"sources":["C:/projects/law/src/components/login.js"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\nimport { Link } from 'react-router-dom';\r\nimport { AiOutlineUser } from \"react-icons/ai\";\r\nimport { AiOutlineLock } from \"react-icons/ai\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useHistory } from 'react-router-dom';\r\nfunction Login() {\r\n    const [id, setId] = useState(\"\");\r\n    const [pw, setPw] = useState(\"\");\r\n    const navigate = useNavigate();\r\n    const onIdChange = (e) => {\r\n      setId(e.target.value);\r\n    };\r\n    const onPwChange = (e) => {\r\n        setPw(e.target.value);\r\n      };\r\n    const nav = ()=> {navigate(-1)}\r\n    const handleSubmit = (e) => {\r\n        // submit을 할 때 페이지 자체가 새로고침이 되는 것을 막음\r\n        e.preventDefault();\r\n        console.log(id);\r\n        const formData = new FormData();\r\n        formData.append('id', id);\r\n        formData.append('password', pw);\r\n        console.log(formData);\r\n        axios.post('/login', formData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' },\r\n        }\r\n        ).then((res) => typeof res.data === 'string' ? (alert(res.data)) : (\r\n          //navigate(-1))\r\n            nav)\r\n          );\r\n        \r\n        navigate(-1)\r\n    };\r\n  \r\n    return (\r\n      <div className=\"container\">\r\n        <form onSubmit={handleSubmit}>\r\n          <h1>Login</h1>\r\n          <div className='loginInput'>\r\n            <AiOutlineUser className='loginIcon' size=\"50px\"/><input onChange={onIdChange} value={id} type=\"text\" placeholder=\"ID\"/>\r\n          </div>\r\n          <div className='loginInput'>\r\n            <AiOutlineLock className='loginIcon' size=\"50px\"/><input onChange={onPwChange} type=\"password\" placeholder=\"Password\" />\r\n          </div>\r\n          <input className=\"btn\" type=\"submit\" value=\"Log in\" />\r\n          <Link to=\"/sign-up\">sign up?</Link>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}