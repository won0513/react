{"ast":null,"code":"import _slicedToArray from\"C:/projects/myproject/law/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Header from'./header.js';import{useState,useEffect}from'react';import Pagination from\"react-js-pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Search_conts(_ref){var list=_ref.list,word=_ref.word,total=_ref.total,kind=_ref.kind,option=_ref.option;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),curList=_useState2[0],setCurList=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var Paging=function Paging(){var handlePageChange=function handlePageChange(page){setPage(page);var last_num=page*10;if(total<last_num){last_num=total;}setCurList(list.slice((page-1)*10,last_num));console.log(\"page, curList:\",curList);console.log(\"page, page2:\",page);console.log('page, kind',kind);//type === \"search\" &&(window.location.href = \"/search/\" + kind + \"/\" + word + \"/\" + option + \"/\" + page)\n};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Pagination,{activePage:page// 현재 페이지\n,itemsCountPerPage:10// 한 페이지랑 보여줄 아이템 갯수\n,totalItemsCount:total// 총 아이템 갯수\n,pageRangeDisplayed:5// paginator의 페이지 범위\n,prevPageText:\"‹\"// \"이전\"을 나타낼 텍스트\n,nextPageText:\"›\"// \"다음\"을 나타낼 텍스트\n,onChange:handlePageChange// 페이지 변경을 핸들링하는 함수\n})});};console.log(\"search conts, kind\",kind);console.log(\"search conts, word\",word);console.log(\"search conts, option\",option);console.log(\"search conts, list\",list);useEffect(function(){//kind가 list이면 즉 더보기 버튼을 클릭하기 전이면 3개만, 더보기 버튼을 클릭 후일때는 10개씩\n{kind===\"alist\"?setCurList(list.slice(0,3)):kind===\"plist\"?setCurList(list.slice(0,3)):setCurList(list.slice((page-1)*10,page*10));}},[]);console.log(curList);var btnList={alist:/*#__PURE__*/_jsx(\"p\",{children:total>3&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){window.location.href=\"/search/\"+\"article\"+\"/\"+word+\"/\"+option;},children:\"\\uB354\\uBCF4\\uAE30\"})}),plist:/*#__PURE__*/_jsx(\"p\",{children:total>3&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){window.location.href=\"/search/\"+\"precedent\"+\"/\"+word+\"/\"+option;},children:\"\\uB354\\uBCF4\\uAE30\"})}),article:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Paging,{})})}),precedent:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Paging,{})})})};console.log(\"search conts, page\",page);/*curList.map((string) => {\r\n        return(    \r\n        <li class=\"left\">\r\n        {\r\n            string.map((str, idx) => {\r\n               return (\r\n                <p>\r\n                {idx === 1 ? (\r\n                str.map((s) => {\r\n                    return(\r\n                        s === word ? (\r\n                            null\r\n                        ) : (\r\n                            console.log(\"log\", s)\r\n                        )\r\n                    )\r\n                })\r\n                ) : ( null\r\n                )}\r\n                </p>\r\n               )\r\n            })\r\n        }\r\n        </li>\r\n        )\r\n    })*/return/*#__PURE__*/_jsxs(\"div\",{class:\"div2\",children:[/*#__PURE__*/_jsx(\"ul\",{children:curList.map(function(string){return/*#__PURE__*/_jsx(\"li\",{class:\"left\",children:string.map(function(str,idx){return/*#__PURE__*/_jsx(\"p\",{children:idx===0?str.map(function(s){return s===word?/*#__PURE__*/_jsx(\"span\",{class:\"div2-title bold\",children:s}):/*#__PURE__*/_jsx(\"span\",{class:\"div2-title\",children:s});}):idx===1&&str.map(function(s){return s===word?/*#__PURE__*/_jsx(\"span\",{class:\"div2-cont bold\",children:s}):/*#__PURE__*/_jsx(\"span\",{class:\"div2-cont\",children:s});})});})});})}),btnList[kind]]});}export default Search_conts;","map":{"version":3,"names":["React","Header","useState","useEffect","Pagination","jsx","_jsx","jsxs","_jsxs","Search_conts","_ref","list","word","total","kind","option","_useState","_useState2","_slicedToArray","curList","setCurList","_useState3","_useState4","page","setPage","Paging","handlePageChange","last_num","slice","console","log","children","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","prevPageText","nextPageText","onChange","btnList","alist","type","onClick","window","location","href","plist","article","precedent","class","map","string","str","idx","s"],"sources":["C:/projects/myproject/law/react/src/components/search_conts.js"],"sourcesContent":["import React from 'react';\r\nimport Header from './header.js';\r\nimport { useState, useEffect } from 'react';\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nfunction Search_conts({list, word, total, kind, option}) {\r\n    let [curList, setCurList] = useState([]);\r\n    const [page, setPage] = useState(1);\r\n    const Paging = () => {\r\n        const handlePageChange = (page) => {\r\n          setPage(page);\r\n          let last_num = page*10;\r\n          if (total < last_num) {\r\n            last_num =  total;\r\n          }\r\n          setCurList(list.slice((page-1)*10, last_num))\r\n          console.log(\"page, curList:\", curList)\r\n          console.log(\"page, page2:\", page)\r\n          console.log('page, kind', kind)\r\n          //type === \"search\" &&(window.location.href = \"/search/\" + kind + \"/\" + word + \"/\" + option + \"/\" + page)\r\n        };\r\n      \r\n        return (\r\n          <div>\r\n          <Pagination\r\n            activePage={page} // 현재 페이지\r\n            itemsCountPerPage={10} // 한 페이지랑 보여줄 아이템 갯수\r\n            totalItemsCount={total} // 총 아이템 갯수\r\n            pageRangeDisplayed={5} // paginator의 페이지 범위\r\n            prevPageText={\"‹\"} // \"이전\"을 나타낼 텍스트\r\n            nextPageText={\"›\"} // \"다음\"을 나타낼 텍스트\r\n            onChange={handlePageChange} // 페이지 변경을 핸들링하는 함수\r\n          />\r\n          </div>\r\n        );\r\n      };\r\n\r\n    console.log(\"search conts, kind\", kind)\r\n    console.log(\"search conts, word\", word)\r\n    console.log(\"search conts, option\", option)\r\n    \r\n    console.log(\"search conts, list\", list)\r\n    useEffect(() => {\r\n        //kind가 list이면 즉 더보기 버튼을 클릭하기 전이면 3개만, 더보기 버튼을 클릭 후일때는 10개씩\r\n        {kind ===\"alist\" ? (setCurList(list.slice(0, 3))) : (kind ===\"plist\" ? (setCurList(list.slice(0, 3))) : (setCurList(list.slice((page-1)*10, page*10))))}\r\n\r\n      }, [])\r\n    console.log(curList)\r\n    const btnList = {\r\n        alist: <p>{total > 3 && (<button type=\"button\" onClick={() => {\r\n            window.location.href = \"/search/\" + \"article\" + \"/\" + word + \"/\" + option;}}>더보기</button>)}</p>,\r\n        plist: <p>{total > 3 && (<button type=\"button\" onClick={() => {\r\n            window.location.href = \"/search/\" + \"precedent\" + \"/\" + word + \"/\" + option;}}>더보기</button>)}</p>,\r\n        article: <p>\r\n        <div>\r\n        <Paging/>\r\n        </div></p>,\r\n        precedent: <p>\r\n        <div>\r\n        <Paging/>\r\n        </div></p>\r\n    }\r\n    \r\n    console.log(\"search conts, page\", page);\r\n    /*curList.map((string) => {\r\n        return(    \r\n        <li class=\"left\">\r\n        {\r\n            string.map((str, idx) => {\r\n               return (\r\n                <p>\r\n                {idx === 1 ? (\r\n                str.map((s) => {\r\n                    return(\r\n                        s === word ? (\r\n                            null\r\n                        ) : (\r\n                            console.log(\"log\", s)\r\n                        )\r\n                    )\r\n                })\r\n                ) : ( null\r\n                )}\r\n                </p>\r\n               )\r\n            })\r\n        }\r\n        </li>\r\n        )\r\n    })*/\r\n\r\n    return (\r\n        <div class=\"div2\">\r\n            <ul>\r\n            {curList.map((string) => {\r\n                return(    \r\n                <li class=\"left\">\r\n                {\r\n                    string.map((str, idx) => {\r\n                       return (\r\n                        <p>\r\n                        {idx === 0 ? (\r\n                        str.map((s) => {\r\n                            return(\r\n                                s === word ? (\r\n                                    <span class = \"div2-title bold\">{ s }</span>\r\n                                ) : (\r\n                                    <span class = \"div2-title\">{ s }</span>\r\n                                )\r\n                            )\r\n                        })\r\n                        ) : (\r\n                            idx === 1 && (\r\n                                str.map((s) => {\r\n                                    return(\r\n                                        s === word ? (\r\n                                            <span class = \"div2-cont bold\">{ s }</span>\r\n                                        ) : (\r\n                                            <span class = \"div2-cont\">{ s }</span>\r\n                                        )\r\n                                        \r\n                                    )\r\n                                })\r\n                            )\r\n                        )}\r\n                        </p>\r\n                       )\r\n                    })\r\n                }\r\n                </li>\r\n                )\r\n            })}\r\n            </ul>\r\n            {btnList[kind]}\r\n        </div>\r\n    )\r\n      \r\n}\r\n\r\n\r\nexport default Search_conts;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}