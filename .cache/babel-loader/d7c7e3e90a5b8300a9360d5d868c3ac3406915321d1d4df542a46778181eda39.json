{"ast":null,"code":"import _regeneratorRuntime from\"C:/projects/myproject/law/react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/projects/myproject/law/react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/projects/myproject/law/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import axios from'axios';import{useParams}from\"react-router\";import Search_box from'./search_box.js';import Menubar from'../elements/menubar';import Pagination from\"react-js-pagination\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Tabel(_ref){var p_list=_ref.p_list;return/*#__PURE__*/_jsxs(\"table\",{class:\"table align-middle fontFt left\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{id:\"t1\",children:\"\\uAD6C\\uBD84\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uB0B4\\uC6A9\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:p_list.map(function(pl){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{class:\"align-middle\",children:/*#__PURE__*/_jsx(\"p\",{class:\"widthTh\",children:pl[0]})}),/*#__PURE__*/_jsx(\"td\",{class:\"align-middle\",children:pl[1].map(function(p){return/*#__PURE__*/_jsx(\"p\",{children:p});})})]});})})]});}function Nav(_ref2){var name_list=_ref2.name_list,total=_ref2.total,num=_ref2.num,p=_ref2.p;var _useState=useState(p),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];console.log('현재 페이지',page);var last_num=page*10;if(total<last_num){last_num=total;}var _useState3=useState(name_list.slice((page-1)*10,last_num)),_useState4=_slicedToArray(_useState3,2),curList=_useState4[0],setCurList=_useState4[1];console.log('nav',name_list);var Paging=function Paging(){var handlePageChange=function handlePageChange(page){setPage(page);last_num=page*10;if(total<last_num){last_num=total;}console.log(last_num);setCurList(name_list.slice((page-1)*10,last_num));console.log(\"test, curList:\",curList);console.log(\"test, page2:\",page);//type === \"search\" &&(window.location.href = \"/search/\" + kind + \"/\" + word + \"/\" + option + \"/\" + page)\n};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Pagination,{class:\"widthFt\",activePage:page// 현재 페이지\n,itemsCountPerPage:10// 한 페이지랑 보여줄 아이템 갯수\n,totalItemsCount:total// 총 아이템 갯수\n,pageRangeDisplayed:3// paginator의 페이지 범위\n,prevPageText:\"‹\"// \"이전\"을 나타낼 텍스트\n,nextPageText:\"›\"// \"다음\"을 나타낼 텍스트\n,onChange:handlePageChange// 페이지 변경을 핸들링하는 함수\n})});};return/*#__PURE__*/_jsxs(\"div\",{className:\"fontFt\",children:[/*#__PURE__*/_jsx(\"ul\",{children:curList.map(function(n){return/*#__PURE__*/_jsx(\"li\",{children:n[0]===num?/*#__PURE__*/_jsx(Link,{style:{textDecoration:\"none\"},id:\"active-li\",children:n[1]}):/*#__PURE__*/_jsx(Link,{style:{textDecoration:\"none\"},onClick:function onClick(){return window.location.href='/precedent/detail/'+n[0]+'/'+page;},children:n[1]})});})}),/*#__PURE__*/_jsx(Paging,{})]});}function Test(){var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),searchData=_useState6[0],setSearchData=_useState6[1];var _useParams=useParams(),num=_useParams.num,p=_useParams.p;useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/precedent/detail/\"+num);case 2:result=_context.sent;console.log(result.data);setSearchData(result.data);case 5:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"header\",{id:\"header\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"logo\",children:\"\\uBBFC\\uBC95\\uC744 \\uC801\\uC6A9\\uD558\\uB294 \\uBC95\"}),/*#__PURE__*/_jsx(Menubar,{}),/*#__PURE__*/_jsx(\"p\",{id:\"login\",children:\"\\xA0\"})]}),/*#__PURE__*/_jsx(\"nav\",{id:\"nav\",children:typeof searchData.p_dic==='undefined'?/*#__PURE__*/_jsx(\"p\",{children:\" \"}):/*#__PURE__*/_jsx(Nav,{name_list:searchData.p_dic.name_list,total:searchData.p_dic.total,num:num,p:p})}),/*#__PURE__*/_jsx(\"div\",{id:\"section\",children:typeof searchData.p_dic==='undefined'?/*#__PURE__*/_jsx(\"p\",{children:\"loading...\"}):/*#__PURE__*/_jsx(Tabel,{p_list:searchData.preceList[0]})}),/*#__PURE__*/_jsx(\"aside\",{id:\"aside\",children:\"\\xA0\"}),/*#__PURE__*/_jsx(\"footer\",{})]});};export default Test;","map":{"version":3,"names":["useState","useEffect","axios","useParams","Search_box","Menubar","Pagination","Link","jsx","_jsx","jsxs","_jsxs","Tabel","_ref","p_list","class","children","id","map","pl","p","Nav","_ref2","name_list","total","num","_useState","_useState2","_slicedToArray","page","setPage","console","log","last_num","_useState3","slice","_useState4","curList","setCurList","Paging","handlePageChange","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","prevPageText","nextPageText","onChange","className","n","style","textDecoration","onClick","window","location","href","Test","_useState5","_useState6","searchData","setSearchData","_useParams","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","get","sent","data","stop","p_dic","preceList"],"sources":["C:/projects/myproject/law/react/src/components/test.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport axios from 'axios'\r\nimport { useParams } from \"react-router\";\r\nimport Search_box from './search_box.js';\r\nimport Menubar from '../elements/menubar';\r\nimport Pagination from \"react-js-pagination\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Tabel({p_list}) {\r\n    return (\r\n        <table class=\"table align-middle fontFt left\">\r\n                <thead><tr><th id=\"t1\">구분</th><th>내용</th></tr></thead>\r\n                <tbody>\r\n                    {p_list.map((pl) => {\r\n                        return(\r\n                            <tr>\r\n                                <td class=\"align-middle\"><p class=\"widthTh\">{pl[0]}</p></td>\r\n                                <td class=\"align-middle\">\r\n                                    {pl[1].map((p) => {\r\n                                        return (\r\n                                            <p>{p}</p>\r\n                                        )\r\n                                    })}\r\n                                </td>\r\n                            </tr>\r\n                        )}\r\n                    )}\r\n                </tbody>\r\n        </table>\r\n    )\r\n}\r\n\r\nfunction Nav({name_list, total, num, p}) {\r\n    const [page, setPage] = useState(p);\r\n    console.log('현재 페이지', page)\r\n    let last_num = page*10;\r\n    \r\n    if (total < last_num) {\r\n      last_num =  total;\r\n    }\r\n    let [curList, setCurList] = useState(name_list.slice((page-1)*10, last_num));\r\n    console.log('nav', name_list)\r\n    const Paging = () => {\r\n        const handlePageChange = (page) => {\r\n          setPage(page);\r\n          last_num = page*10;\r\n          if (total < last_num) {\r\n            last_num =  total;\r\n          }\r\n          console.log(last_num)\r\n          setCurList(name_list.slice((page-1)*10, last_num))\r\n          console.log(\"test, curList:\", curList)\r\n          console.log(\"test, page2:\", page)\r\n          //type === \"search\" &&(window.location.href = \"/search/\" + kind + \"/\" + word + \"/\" + option + \"/\" + page)\r\n        };\r\n      \r\n        return (\r\n          <div>\r\n          <Pagination\r\n            class=\"widthFt\"\r\n            activePage={page} // 현재 페이지\r\n            itemsCountPerPage={10} // 한 페이지랑 보여줄 아이템 갯수\r\n            totalItemsCount={total} // 총 아이템 갯수\r\n            pageRangeDisplayed={3} // paginator의 페이지 범위\r\n            prevPageText={\"‹\"} // \"이전\"을 나타낼 텍스트\r\n            nextPageText={\"›\"} // \"다음\"을 나타낼 텍스트\r\n            onChange={handlePageChange} // 페이지 변경을 핸들링하는 함수\r\n          />\r\n          </div>\r\n        );\r\n      };\r\n\r\n\r\n    return (\r\n        <div className='fontFt'>\r\n        <ul>\r\n            {curList.map((n) => {\r\n            return (\r\n                <li>{n[0] === num ? (\r\n                <Link  style={{ textDecoration: \"none\" }} id =\"active-li\">{ n[1] }</Link>\r\n            ) : (\r\n            <Link  style={{ textDecoration: \"none\" }} onClick={() => window.location.href = '/precedent/detail/' + n[0] + '/' + page}>{ n[1] }</Link>\r\n                \r\n            )}</li>\r\n            )\r\n        })}\r\n\r\n        </ul>\r\n        <Paging/>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Test() {\r\n  let [searchData, setSearchData] = useState({});\r\n  const {num, p} = useParams();\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const result = await axios.get(\r\n        \"/precedent/detail/\" + num\r\n      );\r\n       console.log(result.data);\r\n       setSearchData(result.data);\r\n    }\r\n    fetchData();\r\n  }, [])\r\n  return (\r\n    <div>\r\n    <header id=\"header\">\r\n      <p id=\"logo\">민법을 적용하는 법</p>\r\n      <Menubar/>\r\n      <p id=\"login\">&nbsp;</p>\r\n      </header>\r\n    <nav id=\"nav\">\r\n    {typeof searchData.p_dic === 'undefined' ? (\r\n        <p> </p>\r\n        ) : (\r\n            <Nav name_list={searchData.p_dic.name_list} total={searchData.p_dic.total} num={num} p={p}/>\r\n        )}\r\n    </nav>\r\n    <div id=\"section\">\r\n        {typeof searchData.p_dic === 'undefined' ? (\r\n            <p>loading...</p>\r\n        ) : (\r\n            <Tabel p_list={searchData.preceList[0]}/>\r\n        )}\r\n    </div>\r\n    <aside id=\"aside\">&nbsp;</aside>\r\n    <footer></footer>\r\n  </div>\r\n    );\r\n\r\n};\r\n\r\nexport default Test;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}