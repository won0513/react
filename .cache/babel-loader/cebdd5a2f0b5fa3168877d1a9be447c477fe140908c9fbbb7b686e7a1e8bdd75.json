{"ast":null,"code":"import _regeneratorRuntime from\"C:/projects/myproject/law/react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/projects/myproject/law/react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/projects/myproject/law/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Search_box(_ref){var opt=_ref.opt,q=_ref.q;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),option=_useState4[0],setOption=_useState4[1];useEffect(function(){setOption(opt);setQuery(q);},[]);console.log(\"searchbox, option\",option);/*function OnSubmit(){\r\n      useEffect(() => \r\n    {\r\n      (option === '' && (opt === 'undifined' ? (setOption(\"1\")): (setOption(opt)))).then(\r\n        console.log('new option', option)\r\n      ).then(\r\n        \r\n      query === 'undefined' && (setQuery(q))  \r\n      ).then(\r\n      window.location.href = \"/search/\" + query + \"/\" + option\r\n      )\r\n  }, [])\r\n    }*/ /*const promise = new Promise((resolve, reject) => {\r\n      option === '' && (opt === 'undifined' ? (setOption(\"1\")): (setOption(opt)))\r\n      console.log('new option', option)\r\n      query === 'undefined' && (setQuery(q))  \r\n    });*/var navigate=useNavigate();var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:option===''?window.location.href=\"/app/search/\"+query+\"/\"+opt:window.location.href=\"/app/search/\"+query+\"/\"+option;case 1:case\"end\":return _context.stop();}},_callee);}));return function onSubmit(){return _ref2.apply(this,arguments);};}();var onOptChange=function onOptChange(e){setOption(e.target.value);console.log(option);};var optList=['통합검색','민법','판례'];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"select\",{name:\"option\",id:\"option\",onChange:onOptChange,children:optList.map(function(o,idx){return String(idx+1)===String(opt)?/*#__PURE__*/_jsx(\"option\",{value:idx+1,class:\"opt\",selected:true,children:o}):/*#__PURE__*/_jsx(\"option\",{value:idx+1,class:\"opt\",children:o});})}),q==='undefined'?/*#__PURE__*/_jsx(\"input\",{id:\"query\",type:\"text\",placeholder:\"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694\",onChange:function onChange(e){setQuery(e.target.value);console.log(query);}}):/*#__PURE__*/_jsx(\"input\",{id:\"query\",type:\"text\",onChange:function onChange(e){setQuery(e.target.value);console.log('q있음',query);},value:query}),/*#__PURE__*/_jsx(\"button\",{id:\"icon\",type:\"button\",onClick:function onClick(){onSubmit();},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search\"})})]});}/*function Search_box() {\r\n  // form 가져오기\r\n //let opt = document.getElementById(\"option\");\r\n let query = document.getElementById(\"query\");\r\n let formData = new FormData();\r\n //formData.append(\"opt\", opt);\r\n formData.append(\"query\", query);\r\n\r\n const SearchUp = (e) => {\r\n  e.preventDefault();\r\n  \r\n  fetch(\"/seach\", {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    },\r\n    body: new FormData(search),\r\n  })\r\n    .then((response) => {\r\n      if (response.ok === true) {\r\n        return response.json();\r\n      }\r\n      throw new Error(\"에러 발생!\");\r\n    })\r\n    .catch((error) => {\r\n      alert(error);\r\n    })\r\n    .then((data) => {\r\n      console.log(data);\r\n    });\r\n  };\r\n    return(\r\n          <div className=\"Search_box\">\r\n          <form name=\"sform\" onSubmit={SearchUp} method=\"get\" id=\"search\">\r\n              \r\n            <input type=\"text\" name=\"name\" value=\"Bora\"></input>\r\n            <input type=\"text\" name=\"surname\" value=\"Lee\"></input>\r\n            <input type=\"submit\"></input>\r\n          </form>\r\n          </div>\r\n          \r\n          \r\n    )\r\n  \r\n}*/export default Search_box;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","Search_box","_ref","opt","q","_useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","option","setOption","console","log","navigate","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","window","location","href","stop","apply","arguments","onOptChange","e","target","value","optList","children","name","id","onChange","map","o","idx","String","class","selected","type","placeholder","onClick","className"],"sources":["C:/projects/myproject/law/react/src/components/search_box.js"],"sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport {useNavigate } from \"react-router-dom\";\r\n\r\n\r\nfunction Search_box({opt, q}) {\r\n    const [query, setQuery] = useState(\"\");\r\n    let [option, setOption] = useState(\"\");\r\n    useEffect(() => \r\n    {\r\n      setOption(opt)\r\n      setQuery(q)\r\n  }, [])\r\n    console.log(\"searchbox, option\", option)\r\n\r\n    /*function OnSubmit(){\r\n      useEffect(() => \r\n    {\r\n      (option === '' && (opt === 'undifined' ? (setOption(\"1\")): (setOption(opt)))).then(\r\n        console.log('new option', option)\r\n      ).then(\r\n        \r\n      query === 'undefined' && (setQuery(q))  \r\n      ).then(\r\n      window.location.href = \"/search/\" + query + \"/\" + option\r\n      )\r\n  }, [])\r\n    }*/\r\n    /*const promise = new Promise((resolve, reject) => {\r\n      option === '' && (opt === 'undifined' ? (setOption(\"1\")): (setOption(opt)))\r\n      console.log('new option', option)\r\n      query === 'undefined' && (setQuery(q))  \r\n    });*/\r\n    const navigate = useNavigate();\r\n\r\n    const onSubmit = async () => {\r\n      option === '' ?(window.location.href = \"/app/search/\" + query + \"/\" + opt ) : (\r\n        window.location.href = \"/app/search/\" + query + \"/\" + option \r\n      )\r\n    };\r\n\r\n    const onOptChange = (e) => {\r\n      setOption(e.target.value);\r\n      console.log(option);\r\n    };\r\n    const optList = ['통합검색', '민법', '판례'];\r\n    return (\r\n     <div>\r\n      <select name=\"option\" id=\"option\" onChange={onOptChange}>\r\n      {optList.map((o, idx) => {\r\n        return(  \r\n          String(idx+1) === String(opt) ? (\r\n            <option value={idx+1} class=\"opt\" selected>{ o }</option>\r\n            ) : (\r\n              <option value={idx+1} class=\"opt\">{ o }</option>\r\n            )\r\n        )\r\n    })}\r\n      </select>\r\n      {\r\n        q === 'undefined' ? (\r\n          <input id=\"query\" type=\"text\" placeholder=\"검색어를 입력해 주세요\"\r\n      onChange={(e) => {\r\n      setQuery(e.target.value);\r\n      console.log(query);\r\n      }}></input>\r\n        ) : (\r\n          <input id=\"query\" type=\"text\"\r\n      onChange={(e) => {\r\n      setQuery(e.target.value);\r\n      console.log('q있음', query);\r\n      }} value={query}></input>\r\n        )\r\n      }\r\n      \r\n  \r\n      <button id=\"icon\"\r\n       type=\"button\"\r\n       onClick={() => {\r\n       onSubmit();\r\n       }}><i className=\"bi bi-search\"></i></button>\r\n     </div>\r\n    );\r\n  }\r\n  \r\n\r\n\r\n\r\n/*function Search_box() {\r\n  // form 가져오기\r\n //let opt = document.getElementById(\"option\");\r\n let query = document.getElementById(\"query\");\r\n let formData = new FormData();\r\n //formData.append(\"opt\", opt);\r\n formData.append(\"query\", query);\r\n\r\n const SearchUp = (e) => {\r\n  e.preventDefault();\r\n  \r\n  fetch(\"/seach\", {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    },\r\n    body: new FormData(search),\r\n  })\r\n    .then((response) => {\r\n      if (response.ok === true) {\r\n        return response.json();\r\n      }\r\n      throw new Error(\"에러 발생!\");\r\n    })\r\n    .catch((error) => {\r\n      alert(error);\r\n    })\r\n    .then((data) => {\r\n      console.log(data);\r\n    });\r\n  };\r\n    return(\r\n          <div className=\"Search_box\">\r\n          <form name=\"sform\" onSubmit={SearchUp} method=\"get\" id=\"search\">\r\n              \r\n            <input type=\"text\" name=\"name\" value=\"Bora\"></input>\r\n            <input type=\"text\" name=\"surname\" value=\"Lee\"></input>\r\n            <input type=\"submit\"></input>\r\n          </form>\r\n          </div>\r\n          \r\n          \r\n    )\r\n  \r\n}*/\r\n\r\n\r\n\r\n\r\n\r\nexport default Search_box;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}